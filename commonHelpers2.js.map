{"version":3,"file":"commonHelpers2.js","sources":["../src/js/modalwindow.js","../src/js/categorypage.js","../src/js/bestsellers.js","../src/js/sidebarallcategories.js","../src/main.js"],"sourcesContent":["// Рендер информации в модалку\n// import { showLoader, hideLoader } from './Services/helpers';\nimport backendAPI from './Services/api';\nimport localStorageBooks from '../js/localstorage';\nimport amazon from '../img/amazon-n.png';\nimport apple from '../img/apple-n.png';\nimport { updateBooksCounter } from './updatecounter';\nimport { auth, db } from './firebase';\nimport { collection, addDoc, setDoc, doc, getDocs } from 'firebase/firestore';\n\nconst backdrop = document.querySelector('.backdrop');\nconst modalWrapper = document.querySelector('.modal-wrapper');\nconst body = document.querySelector('body');\nconst btnAddRemove = document.querySelector('.modal-btn-addremove');\nconst bookAddMsg = document.querySelector('.congrats');\nconst closeModalButton = document.querySelector('.modal-close');\n\nconst book = {\n  _id: '',\n  title: '',\n  author: '',\n  list_name: '',\n  book_image: '',\n  description: '',\n  amazon_buy_link: '',\n  apple_buy_link: '',\n};\n\nexport async function renderModal(bookId) {\n  try {\n    modalWrapper.innerHTML = '';\n    bookAddMsg.innerHTML = '';\n    const modalData = await backendAPI.getBookDescription(bookId);\n    book._id = modalData._id;\n    book.title = modalData.title;\n    book.author = modalData.author;\n    book.list_name = modalData.list_name;\n    book.book_image = modalData.book_image;\n    book.description = modalData.description;\n    book.amazon_buy_link = modalData.buy_links[0].url;\n    book.apple_buy_link = modalData.buy_links[1].url;\n\n    const markupBook = markupBooks(modalData);\n    modalWrapper.insertAdjacentHTML('beforeend', markupBook);\n\n    manageButton(btnAddRemove, bookId);\n    closeModalButton.blur();\n    btnAddRemove.addEventListener('click', buttonClickHandler);\n    closeModalButton.addEventListener('click', closeModal);\n    document.addEventListener('keydown', keydownHandler);\n    backdrop.addEventListener('click', clickOutsideHandler);\n  } catch (error) {\n    console.log('Error fetching modal:', error);\n  }\n}\n\nexport function showModal(id) {\n  backdrop.classList.add('modal-open');\n  body.classList.add('no-scroll');\n  renderModal(id);\n}\n\nfunction markupBooks(modalData) {\n  return `\n      <img class=\"modal-img-book\" src=\"${modalData.book_image}\" alt=\"book\" />\n        \n      <div class=\"modal-book-container-right\">\n        <div class=\"modal-book-container\">\n          <div class=\"modal-book-info\">\n            <h3 class=\"modal-description-title\">${modalData.title}</h3>\n            <p class=\"modal-description-author\">${modalData.author}</p>\n          </div>\n          <p class=\"modal-book-description\">${modalData.description}</p>\n          <ul class=\"modal-icons-list\">\n          <li>\n            <a class=\"modal-book-link\" href=\"${modalData.buy_links[0].url}\" target=\"_blank\"><img class='modal-link-icon-amazon' src=\"${amazon}\" alt=\"\" width='62' height='19' \n            /></a>\n          </li>\n          <li>\n            <a class=\"modal-book-link\" href=\"${modalData.buy_links[1].url}\" target=\"_blank\"><img class='modal-link-icon-apple' src=\"${apple}\" alt=\"\" width='33' height='32'\n            /></a>\n          </li>\n          </ul>\n        </div>\n      </div>`;\n}\n\nasync function manageButton(btnAddRemove, bookId) {\n  btnAddRemove.textContent = '';\n  if (auth.currentUser) {\n    let bookExist = false;\n    const books = await getDocs(collection(db, auth.currentUser.uid)).then(\n      books => {\n        books.forEach(book => {\n          if (book.id === bookId) {\n            bookExist = true;\n          }\n        });\n        if (bookExist) {\n          btnAddRemove.textContent = 'remove from the shopping list';\n        } else {\n          btnAddRemove.textContent = 'add to shopping list';\n        }\n      }\n    );\n  } else {\n    if (localStorageBooks.isBookExsist(bookId)) {\n      btnAddRemove.textContent = 'remove from the shopping list';\n      // btnAddRemove.classList.add('modal-btn-remove');\n      bookAddMsg.classList.add('modal-text-congratulations');\n      btnAddRemove.blur();\n    } else {\n      btnAddRemove.textContent = 'add to shopping list';\n      // btnAddRemove.classList.remove('modal-btn-remove');\n      bookAddMsg.classList.remove('modal-text-congratulations');\n      btnAddRemove.blur();\n    }\n  }\n}\nfunction buttonClickHandler(e) {\n  if (btnAddRemove.textContent === 'add to shopping list') {\n    addBook(book);\n    manageButton(btnAddRemove, book._id);\n  } else {\n    removeBook(book);\n    manageButton(btnAddRemove, book._id);\n  }\n  // btnAddRemove.removeEventListener('click', buttonClickHandler);\n}\n\n// ============Додав функції дії=====================\nfunction keydownHandler(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\nfunction clickOutsideHandler(event) {\n  if (event.target === backdrop) {\n    closeModal();\n  }\n}\n// ==================================================\n\nfunction closeModal() {\n  backdrop.classList.remove('modal-open');\n  body.classList.remove('no-scroll');\n  btnAddRemove.textContent = '';\n  closeModalButton.removeEventListener('click', closeModal);\n  btnAddRemove.removeEventListener('click', buttonClickHandler);\n  document.removeEventListener('keydown', keydownHandler);\n  backdrop.removeEventListener('click', clickOutsideHandler);\n}\n\nasync function addBook(book) {\n  const user = auth.currentUser;\n  if (user) {\n    await setDoc(doc(db, user.uid, book._id), {\n      // id: book._id,\n      title: book.title,\n      author: book.author,\n      list_name: book.list_name,\n      book_image: book.book_image,\n      description: book.description,\n      amazon_buy_link: book.amazon_buy_link,\n      apple_buy_link: book.apple_buy_link,\n    });\n  } else {\n    localStorageBooks.addBookToFavorites(book);\n    updateBooksCounter();\n    bookAddMsg.textContent =\n      'Сongratulations! You have added the book to the shopping list. To delete, press the button \"Remove from the shopping list\".';\n  }\n}\n\nfunction removeBook(bookId) {\n  localStorageBooks.removeBookFromFavorites(bookId);\n  updateBooksCounter();\n  bookAddMsg.textContent = '';\n}\n","import { showLoader, hideLoader } from './Services/helpers';\nimport { renderTitle, bookTemplate } from './Services/helpers';\nimport { showModal } from './modalwindow';\n\nexport function renderCategoryPage(books, category) {\n  showLoader();\n  if (books.length === 0) {\n    try {\n      const pageContainer = document.querySelector('.bestsellers-container');\n      pageContainer.innerHTML = '';\n      renderTitle('.bestsellers-container', category);\n      pageContainer.insertAdjacentHTML(\n        'beforeend',\n        '<ul class = \"book-category-list\"></ul>'\n      );\n      const categoryPage = document.querySelector('.book-category-list');\n      const markupEmpty =\n        '<p class = \"category-text-empty\">Sorry, no books were found for the given category</p>';\n      categoryPage.innerHTML = markupEmpty;\n    } catch {\n      console.log('Error fetching modal:', error);\n    } finally {\n      hideLoader();\n    }\n  } else {\n    try {\n      const pageContainer = document.querySelector('.bestsellers-container');\n      pageContainer.innerHTML = '';\n      renderTitle('.bestsellers-container', category);\n      pageContainer.insertAdjacentHTML(\n        'beforeend',\n        '<ul class = \"book-category-list\"></ul>'\n      );\n      const categoryPage = document.querySelector('.book-category-list');\n      const markup = books\n        .map(({ author, book_image, title, _id }) => {\n          return bookTemplate({ author, book_image, title, _id });\n        })\n        .join('');\n\n      categoryPage.innerHTML = markup;\n      categoryPage.addEventListener('click', onClickBook);\n    } catch {\n      console.log('Error fetching modal:', error);\n    } finally {\n      hideLoader();\n    }\n  }\n}\n\nasync function onClickBook(e) {\n  if (\n    e.target.nodeName === 'IMG' ||\n    e.target.nodeName === 'H3' ||\n    e.target.nodeName === 'P'\n  ) {\n    let bookId = e.target.closest('.book-category-item').dataset.id;\n    showModal(bookId);\n  }\n}\n// btn.addEventListener('click', async () => {\n//   const result = await backenadAPI.getSelectedCategory(\n//    category\n//   );\n//   renderCategoryPage(result, category);\n// });\n","import backendAPI from './Services/api';\nimport { bookTemplate, renderTitle } from './Services/helpers';\nimport { renderCategoryPage } from './categorypage';\nimport { showModal } from './modalwindow';\nimport { scrollTitleUp } from './Services/helpers';\nimport { showLoader, hideLoader } from './Services/helpers';\n\n// ==================================================================================\n// Функція для відображення Best Sellers Books\n// ==============================================================================\n\nexport async function topPageBestsellersBooks() {\n  try {\n    const bestBooksContainer = document.querySelector('.bestsellers-container');\n    bestBooksContainer.innerHTML = '';\n    showLoader();\n    const bestSellersData = await backendAPI.getBestSellers();\n\n    renderBestBooks(bestSellersData);\n  } catch (error) {\n    console.error('Error fetching best sellers:', error);\n  }\n}\n\n// ==================================================================================================\n// Рендер сторінки Best Sellers Books\n// ======================================================================================================\n\nexport function renderBestBooks(bestBooks) {\n  const bestBooksContainer = document.querySelector('.bestsellers-container');\n  hideLoader();\n  bestBooksContainer.innerHTML = '';\n  renderTitle('.bestsellers-container', 'Best Sellers Books');\n  bestBooksContainer.insertAdjacentHTML(\n    'beforeend',\n    `<ul class=\"bestsellers-list\"></ul>`\n  );\n\n  const bestBooksList = document.querySelector('.bestsellers-list');\n\n  const markup = bestBooks\n    .map(({ books, list_name }) => {\n      return `<li class=\"bestsellers-item\">\n      <h2 class=\"bestsellers-category-title\">${list_name}</h2>\n      <ul class=\"bestsellers-books-list\">${books\n        .map(({ title, author, book_image, _id }) => {\n          if (books.length === 0) {\n            return `<p class=\"category-empty\">Sorry, no books were found for the given category!</p>`;\n          } else {\n            return bookTemplate({ title, author, book_image, _id });\n          }\n        })\n        .join('\\n')}\n        </ul>\n        <button class=\"bestsellers-btn\" type=\"button\" data-category=\"${list_name}\">See more</button>\n      </li>`;\n    })\n    .join('\\n');\n\n  bestBooksList.insertAdjacentHTML('beforeend', markup);\n\n  bestBooksList.addEventListener('click', onButtonClick);\n  bestBooksList.addEventListener('click', onImageClick);\n}\n\n// =======================================================================\n// Слухач для модального вікна\n// =======================================================================\n\nasync function onImageClick(e) {\n  e.preventDefault();\n\n  if (\n    e.target.nodeName === 'IMG' ||\n    e.target.nodeName === 'H3' ||\n    e.target.nodeName === 'P'\n  ) {\n    let bookId = e.target.closest('.book-category-item').dataset.id;\n    showModal(bookId);\n  }\n}\n\n// ========================================================================\n// Слухач на кнопку See more\n// ========================================================================\n\nasync function onButtonClick(e) {\n  try {\n    if (e.target.nodeName !== 'BUTTON') {\n      return;\n    }\n\n    let category = e.target.dataset.category;\n    const allCategoryItem = document.querySelector('.sidebar-category-item');\n    const sidebarCategoryList = document.querySelectorAll(\n      '.sidebar-category-item'\n    );\n\n    // window.scrollTo({\n    //   top: 0,\n    //   behavior: 'smooth',\n    // });\n\n    const categoryBooksContainer = document.querySelector(\n      '.bestsellers-container'\n    );\n    categoryBooksContainer.innerHTML = '';\n\n    showLoader();\n    const openCategory = await backendAPI.getSelectedCategory(category);\n    renderCategoryPage(openCategory, category);\n    hideLoader();\n\n    sidebarCategoryList.forEach(el => {\n      if (el.dataset.source === category) {\n        allCategoryItem.classList.remove('category-active');\n        el.classList.add('category-active');\n        el.scrollIntoView({\n          behavior: 'instant',\n          block: 'center',\n          inline: 'nearest',\n        });\n      }\n    });\n\n    scrollTitleUp();\n    // window.scrollTo({\n    //   top: 0,\n    //   behavior: 'smooth',\n    // });\n  } catch (error) {\n    console.log('Error fetching modal:', error);\n  }\n}\n","import { showLoader, hideLoader } from './Services/helpers';\nimport backendAPI from './Services/api';\nimport { renderBestBooks } from './bestsellers';\nimport { renderCategoryPage } from './categorypage';\nimport { scrollTitleUp } from './Services/helpers';\n\nconst categorySelectors = {\n  categoryContainer: document.querySelector('.sidebar-category-container'),\n  categoryList: document.querySelector('.sidebar-category-list'),\n  allCategory: document.querySelector('.all-category'),\n};\n\n/**\n |============================\n | Розмітка списку категорій\n |============================\n*/\n\nfunction categoryMarkup(data) {\n  data.sort((a, b) => a.list_name.localeCompare(b.list_name));\n  const result = data\n    .map(\n      item =>\n        `<li class='sidebar-category-item' data-source=\"${item.list_name}\">${item.list_name}</li>`\n    )\n    .join('');\n  return result;\n}\n\n(async () => {\n  try {\n    const bestBooksContainer = document.querySelector('.bestsellers-container');\n    bestBooksContainer.innerHTML = '';\n    showLoader();\n    const categoryData = await backendAPI.getCategoryList();\n    const markup = categoryMarkup(categoryData);\n    categorySelectors.categoryList.insertAdjacentHTML('beforeend', markup);\n    hideLoader();\n  } catch (error) {\n    console.log(error);\n  }\n})();\n\n/**\n |============================\n | Слухачі подій\n |============================\n*/\n\ncategorySelectors.allCategory.addEventListener('click', async event => {\n  try {\n    const bestBooksContainer = document.querySelector('.bestsellers-container');\n    bestBooksContainer.innerHTML = '';\n    showLoader();\n    const bestBooksData = await backendAPI.getBestSellers();\n    renderBestBooks(bestBooksData);\n    hideLoader();\n    scrollTitleUp();\n  } catch (error) {\n    console.log(error);\n  }\n});\n\ncategorySelectors.categoryList.addEventListener('click', async event => {\n  if (event.target.classList.contains('sidebar-category-item')) {\n    const category = event.target.dataset.source;\n\n    const categoryItems = document.querySelectorAll('.sidebar-category-item');\n    categoryItems.forEach(item => {\n      item.classList.remove('category-active');\n    });\n\n    event.target.classList.add('category-active');\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n    const bestBooksContainer = document.querySelector('.bestsellers-container');\n    bestBooksContainer.innerHTML = '';\n    showLoader();\n    try {\n      if (!event.target.classList.contains('all-category')) {\n        const categoryData = await backendAPI.getSelectedCategory(category);\n        renderCategoryPage(categoryData, category);\n        hideLoader();\n        scrollTitleUp();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n});\n","import './js/header';\nimport './js/sidebarallcategories';\nimport './js/support';\n\nimport { auth, db } from './js/firebase';\nimport { onAuthStateChanged } from 'firebase/auth';\n\nimport { topPageBestsellersBooks } from './js/bestsellers';\nimport { updateBooksCounter } from './js/updatecounter';\nimport { updateSignInOutButton } from './js/updateonlogin';\nimport { collection, addDoc, setDoc, doc, getDocs } from 'firebase/firestore';\nonAuthStateChanged(auth, user => {\n  if (user) {\n    updateSignInOutButton();\n  } else {\n    updateSignInOutButton();\n  }\n});\n\ntopPageBestsellersBooks();\nupdateBooksCounter();\n\n//REFACTOR\ndocument.addEventListener('DOMContentLoaded', function () {\n  const scrollUpButton = document.querySelector('.scroll-up');\n\n  window.addEventListener('scroll', function () {\n    if (window.scrollY > 600) {\n      scrollUpButton.classList.add('show');\n    } else {\n      scrollUpButton.classList.remove('show');\n    }\n  });\n\n  scrollUpButton.addEventListener('click', function () {\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n  });\n});\n\n// Initialize Firebase\n"],"names":["backdrop","modalWrapper","body","btnAddRemove","bookAddMsg","closeModalButton","book","renderModal","bookId","modalData","backendAPI","markupBook","markupBooks","manageButton","buttonClickHandler","closeModal","keydownHandler","clickOutsideHandler","error","showModal","id","amazon","apple","auth","bookExist","getDocs","collection","db","books","localStorageBooks","addBook","removeBook","event","user","setDoc","doc","updateBooksCounter","renderCategoryPage","category","showLoader","pageContainer","renderTitle","categoryPage","markupEmpty","hideLoader","markup","author","book_image","title","_id","bookTemplate","onClickBook","topPageBestsellersBooks","bestBooksContainer","bestSellersData","renderBestBooks","bestBooks","bestBooksList","list_name","onButtonClick","onImageClick","allCategoryItem","sidebarCategoryList","categoryBooksContainer","openCategory","el","scrollTitleUp","categorySelectors","categoryMarkup","data","a","b","item","categoryData","bestBooksData","onAuthStateChanged","updateSignInOutButton","scrollUpButton"],"mappings":"uNAUA,MAAMA,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAe,SAAS,cAAc,sBAAsB,EAC5DC,EAAa,SAAS,cAAc,WAAW,EAC/CC,EAAmB,SAAS,cAAc,cAAc,EAExDC,EAAO,CACX,IAAK,GACL,MAAO,GACP,OAAQ,GACR,UAAW,GACX,WAAY,GACZ,YAAa,GACb,gBAAiB,GACjB,eAAgB,EAClB,EAEO,eAAeC,EAAYC,EAAQ,CACxC,GAAI,CACFP,EAAa,UAAY,GACzBG,EAAW,UAAY,GACvB,MAAMK,EAAY,MAAMC,EAAW,mBAAmBF,CAAM,EAC5DF,EAAK,IAAMG,EAAU,IACrBH,EAAK,MAAQG,EAAU,MACvBH,EAAK,OAASG,EAAU,OACxBH,EAAK,UAAYG,EAAU,UAC3BH,EAAK,WAAaG,EAAU,WAC5BH,EAAK,YAAcG,EAAU,YAC7BH,EAAK,gBAAkBG,EAAU,UAAU,CAAC,EAAE,IAC9CH,EAAK,eAAiBG,EAAU,UAAU,CAAC,EAAE,IAE7C,MAAME,EAAaC,EAAYH,CAAS,EACxCR,EAAa,mBAAmB,YAAaU,CAAU,EAEvDE,EAAaV,EAAcK,CAAM,EACjCH,EAAiB,KAAI,EACrBF,EAAa,iBAAiB,QAASW,CAAkB,EACzDT,EAAiB,iBAAiB,QAASU,CAAU,EACrD,SAAS,iBAAiB,UAAWC,CAAc,EACnDhB,EAAS,iBAAiB,QAASiB,CAAmB,CACvD,OAAQC,EAAO,CACd,QAAQ,IAAI,wBAAyBA,CAAK,CAC3C,CACH,CAEO,SAASC,EAAUC,EAAI,CAC5BpB,EAAS,UAAU,IAAI,YAAY,EACnCE,EAAK,UAAU,IAAI,WAAW,EAC9BK,EAAYa,CAAE,CAChB,CAEA,SAASR,EAAYH,EAAW,CAC9B,MAAO;AAAA,yCACgCA,EAAU,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA,kDAKXA,EAAU,KAAK;AAAA,kDACfA,EAAU,MAAM;AAAA;AAAA,8CAEpBA,EAAU,WAAW;AAAA;AAAA;AAAA,+CAGpBA,EAAU,UAAU,CAAC,EAAE,GAAG,8DAA8DY,CAAM;AAAA;AAAA;AAAA;AAAA,+CAI9FZ,EAAU,UAAU,CAAC,EAAE,GAAG,6DAA6Da,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,aAM3I,CAEA,eAAeT,EAAaV,EAAcK,EAAQ,CAEhD,GADAL,EAAa,YAAc,GACvBoB,EAAK,YAAa,CACpB,IAAIC,EAAY,GACF,MAAMC,EAAQC,EAAWC,EAAIJ,EAAK,YAAY,GAAG,CAAC,EAAE,KAChEK,GAAS,CACPA,EAAM,QAAQtB,GAAQ,CAChBA,EAAK,KAAOE,IACdgB,EAAY,GAExB,CAAS,EACGA,EACFrB,EAAa,YAAc,gCAE3BA,EAAa,YAAc,sBAE9B,CACD,CACN,MACQ0B,EAAkB,aAAarB,CAAM,GACvCL,EAAa,YAAc,gCAE3BC,EAAW,UAAU,IAAI,4BAA4B,EACrDD,EAAa,KAAI,IAEjBA,EAAa,YAAc,uBAE3BC,EAAW,UAAU,OAAO,4BAA4B,EACxDD,EAAa,KAAI,EAGvB,CACA,SAASW,EAAmB,EAAG,CACzBX,EAAa,cAAgB,wBAC/B2B,EAAQxB,CAAI,EACZO,EAAaV,EAAcG,EAAK,GAAG,IAEnCyB,EAAWzB,CAAI,EACfO,EAAaV,EAAcG,EAAK,GAAG,EAGvC,CAGA,SAASU,EAAegB,EAAO,CACzBA,EAAM,MAAQ,UAChBjB,GAEJ,CACA,SAASE,EAAoBe,EAAO,CAC9BA,EAAM,SAAWhC,GACnBe,GAEJ,CAGA,SAASA,GAAa,CACpBf,EAAS,UAAU,OAAO,YAAY,EACtCE,EAAK,UAAU,OAAO,WAAW,EACjCC,EAAa,YAAc,GAC3BE,EAAiB,oBAAoB,QAASU,CAAU,EACxDZ,EAAa,oBAAoB,QAASW,CAAkB,EAC5D,SAAS,oBAAoB,UAAWE,CAAc,EACtDhB,EAAS,oBAAoB,QAASiB,CAAmB,CAC3D,CAEA,eAAea,EAAQxB,EAAM,CAC3B,MAAM2B,EAAOV,EAAK,YACdU,EACF,MAAMC,EAAOC,EAAIR,EAAIM,EAAK,IAAK3B,EAAK,GAAG,EAAG,CAExC,MAAOA,EAAK,MACZ,OAAQA,EAAK,OACb,UAAWA,EAAK,UAChB,WAAYA,EAAK,WACjB,YAAaA,EAAK,YAClB,gBAAiBA,EAAK,gBACtB,eAAgBA,EAAK,cAC3B,CAAK,GAEDuB,EAAkB,mBAAmBvB,CAAI,EACzC8B,IACAhC,EAAW,YACT,8HAEN,CAEA,SAAS2B,EAAWvB,EAAQ,CAC1BqB,EAAkB,wBAAwBrB,CAAM,EAChD4B,IACAhC,EAAW,YAAc,EAC3B,CC9KO,SAASiC,EAAmBT,EAAOU,EAAU,CAElD,GADAC,IACIX,EAAM,SAAW,EACnB,GAAI,CACF,MAAMY,EAAgB,SAAS,cAAc,wBAAwB,EACrEA,EAAc,UAAY,GAC1BC,EAAY,yBAA0BH,CAAQ,EAC9CE,EAAc,mBACZ,YACA,wCACR,EACM,MAAME,EAAe,SAAS,cAAc,qBAAqB,EAC3DC,EACJ,yFACFD,EAAa,UAAYC,CAC/B,MAAY,CACN,QAAQ,IAAI,wBAAyB,KAAK,CAChD,QAAc,CACRC,GACD,KAED,IAAI,CACF,MAAMJ,EAAgB,SAAS,cAAc,wBAAwB,EACrEA,EAAc,UAAY,GAC1BC,EAAY,yBAA0BH,CAAQ,EAC9CE,EAAc,mBACZ,YACA,wCACR,EACM,MAAME,EAAe,SAAS,cAAc,qBAAqB,EAC3DG,EAASjB,EACZ,IAAI,CAAC,CAAE,OAAAkB,EAAQ,WAAAC,EAAY,MAAAC,EAAO,IAAAC,CAAG,IAC7BC,EAAa,CAAE,OAAAJ,EAAQ,WAAAC,EAAY,MAAAC,EAAO,IAAAC,CAAG,CAAE,CACvD,EACA,KAAK,EAAE,EAEVP,EAAa,UAAYG,EACzBH,EAAa,iBAAiB,QAASS,CAAW,CACxD,MAAY,CACN,QAAQ,IAAI,wBAAyB,KAAK,CAChD,QAAc,CACRP,GACD,CAEL,CAEA,eAAeO,EAAY,EAAG,CAC5B,GACE,EAAE,OAAO,WAAa,OACtB,EAAE,OAAO,WAAa,MACtB,EAAE,OAAO,WAAa,IACtB,CACA,IAAI3C,EAAS,EAAE,OAAO,QAAQ,qBAAqB,EAAE,QAAQ,GAC7DW,EAAUX,CAAM,CACjB,CACH,CChDO,eAAe4C,GAA0B,CAC9C,GAAI,CACF,MAAMC,EAAqB,SAAS,cAAc,wBAAwB,EAC1EA,EAAmB,UAAY,GAC/Bd,IACA,MAAMe,EAAkB,MAAM5C,EAAW,iBAEzC6C,EAAgBD,CAAe,CAChC,OAAQpC,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,CACpD,CACH,CAMO,SAASqC,EAAgBC,EAAW,CACzC,MAAMH,EAAqB,SAAS,cAAc,wBAAwB,EAC1ET,IACAS,EAAmB,UAAY,GAC/BZ,EAAY,yBAA0B,oBAAoB,EAC1DY,EAAmB,mBACjB,YACA,oCACJ,EAEE,MAAMI,EAAgB,SAAS,cAAc,mBAAmB,EAE1DZ,EAASW,EACZ,IAAI,CAAC,CAAE,MAAA5B,EAAO,UAAA8B,KACN;AAAA,+CACkCA,CAAS;AAAA,2CACb9B,EAClC,IAAI,CAAC,CAAE,MAAAoB,EAAO,OAAAF,EAAQ,WAAAC,EAAY,IAAAE,CAAG,IAChCrB,EAAM,SAAW,EACZ,mFAEAsB,EAAa,CAAE,MAAAF,EAAO,OAAAF,EAAQ,WAAAC,EAAY,IAAAE,CAAG,CAAE,CAEzD,EACA,KAAK;AAAA,CAAI,CAAC;AAAA;AAAA,uEAEoDS,CAAS;AAAA,YAE3E,EACA,KAAK;AAAA,CAAI,EAEZD,EAAc,mBAAmB,YAAaZ,CAAM,EAEpDY,EAAc,iBAAiB,QAASE,CAAa,EACrDF,EAAc,iBAAiB,QAASG,CAAY,CACtD,CAMA,eAAeA,EAAa,EAAG,CAG7B,GAFA,EAAE,eAAc,EAGd,EAAE,OAAO,WAAa,OACtB,EAAE,OAAO,WAAa,MACtB,EAAE,OAAO,WAAa,IACtB,CACA,IAAIpD,EAAS,EAAE,OAAO,QAAQ,qBAAqB,EAAE,QAAQ,GAC7DW,EAAUX,CAAM,CACjB,CACH,CAMA,eAAemD,EAAc,EAAG,CAC9B,GAAI,CACF,GAAI,EAAE,OAAO,WAAa,SACxB,OAGF,IAAIrB,EAAW,EAAE,OAAO,QAAQ,SAChC,MAAMuB,EAAkB,SAAS,cAAc,wBAAwB,EACjEC,EAAsB,SAAS,iBACnC,wBACN,EAOUC,EAAyB,SAAS,cACtC,wBACN,EACIA,EAAuB,UAAY,GAEnCxB,IACA,MAAMyB,EAAe,MAAMtD,EAAW,oBAAoB4B,CAAQ,EAClED,EAAmB2B,EAAc1B,CAAQ,EACzCM,IAEAkB,EAAoB,QAAQG,GAAM,CAC5BA,EAAG,QAAQ,SAAW3B,IACxBuB,EAAgB,UAAU,OAAO,iBAAiB,EAClDI,EAAG,UAAU,IAAI,iBAAiB,EAClCA,EAAG,eAAe,CAChB,SAAU,UACV,MAAO,SACP,OAAQ,SAClB,CAAS,EAET,CAAK,EAEDC,GAKD,OAAQhD,EAAO,CACd,QAAQ,IAAI,wBAAyBA,CAAK,CAC3C,CACH,CC/HA,MAAMiD,EAAoB,CACxB,kBAAmB,SAAS,cAAc,6BAA6B,EACvE,aAAc,SAAS,cAAc,wBAAwB,EAC7D,YAAa,SAAS,cAAc,eAAe,CACrD,EAQA,SAASC,EAAeC,EAAM,CAC5B,OAAAA,EAAK,KAAK,CAACC,EAAGC,IAAMD,EAAE,UAAU,cAAcC,EAAE,SAAS,CAAC,EAC3CF,EACZ,IACCG,GACE,kDAAkDA,EAAK,SAAS,KAAKA,EAAK,SAAS,OACtF,EACA,KAAK,EAAE,CAEZ,EAEC,SAAY,CACX,GAAI,CACF,MAAMnB,EAAqB,SAAS,cAAc,wBAAwB,EAC1EA,EAAmB,UAAY,GAC/Bd,IACA,MAAMkC,EAAe,MAAM/D,EAAW,kBAChCmC,EAASuB,EAAeK,CAAY,EAC1CN,EAAkB,aAAa,mBAAmB,YAAatB,CAAM,EACrED,GACD,OAAQ1B,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,KAQAiD,EAAkB,YAAY,iBAAiB,QAAS,MAAMnC,GAAS,CACrE,GAAI,CACF,MAAMqB,EAAqB,SAAS,cAAc,wBAAwB,EAC1EA,EAAmB,UAAY,GAC/Bd,IACA,MAAMmC,EAAgB,MAAMhE,EAAW,iBACvC6C,EAAgBmB,CAAa,EAC7B9B,IACAsB,GACD,OAAQhD,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAAC,EAEDiD,EAAkB,aAAa,iBAAiB,QAAS,MAAMnC,GAAS,CACtE,GAAIA,EAAM,OAAO,UAAU,SAAS,uBAAuB,EAAG,CAC5D,MAAMM,EAAWN,EAAM,OAAO,QAAQ,OAEhB,SAAS,iBAAiB,wBAAwB,EAC1D,QAAQwC,GAAQ,CAC5BA,EAAK,UAAU,OAAO,iBAAiB,CAC7C,CAAK,EAEDxC,EAAM,OAAO,UAAU,IAAI,iBAAiB,EAC5C,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QAChB,CAAK,EACD,MAAMqB,EAAqB,SAAS,cAAc,wBAAwB,EAC1EA,EAAmB,UAAY,GAC/Bd,IACA,GAAI,CACF,GAAI,CAACP,EAAM,OAAO,UAAU,SAAS,cAAc,EAAG,CACpD,MAAMyC,EAAe,MAAM/D,EAAW,oBAAoB4B,CAAQ,EAClED,EAAmBoC,EAAcnC,CAAQ,EACzCM,IACAsB,GACD,CACF,OAAQhD,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACF,CACH,CAAC,EChFDyD,EAAmBpD,EAAMU,GAAQ,CAC3BA,EACF2C,IAEAA,GAEJ,CAAC,EAEDxB,IACAhB,IAGA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMyC,EAAiB,SAAS,cAAc,YAAY,EAE1D,OAAO,iBAAiB,SAAU,UAAY,CACxC,OAAO,QAAU,IACnBA,EAAe,UAAU,IAAI,MAAM,EAEnCA,EAAe,UAAU,OAAO,MAAM,CAE5C,CAAG,EAEDA,EAAe,iBAAiB,QAAS,UAAY,CACnD,OAAO,SAAS,CACd,IAAK,EACL,SAAU,QAChB,CAAK,CACL,CAAG,CACH,CAAC"}